function Hammer(e,t){function n(e){return e.touches?e.touches.length:1}function i(e){if(e=e||window.event,H){for(var t,n=[],i=0,o=e.touches.length;o>i;i++)t=e.touches[i],n.push({x:t.pageX,y:t.pageY});return n}var r=document,a=r.body;return[{x:e.pageX||e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&r.clientLeft||0),y:e.pageY||e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&r.clientTop||0)}]}function o(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function r(e,t){if(2==e.length&&2==t.length){var n,i;n=e[0].x-e[1].x,i=e[0].y-e[1].y;var o=Math.sqrt(n*n+i*i);n=t[0].x-t[1].x,i=t[0].y-t[1].y;var r=Math.sqrt(n*n+i*i);return r/o}return 0}function a(e,t){if(2==e.length&&2==t.length){var n,i;n=e[0].x-e[1].x,i=e[0].y-e[1].y;var o=180*Math.atan2(i,n)/Math.PI;n=t[0].x-t[1].x,i=t[0].y-t[1].y;var r=180*Math.atan2(i,n)/Math.PI;return r-o}return 0}function s(e,t){t.touches=i(t.originalEvent),t.type=e,f(m["on"+e])&&m["on"+e].call(m,t)}function l(e){e=e||window.event,e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)}function c(){C={},E=!1,k=0,x=0,w=0,S=null}function u(o){switch(o.type){case"mousedown":case"touchstart":C.start=i(o),A=(new Date).getTime(),k=n(o),E=!0,v=o;var u=e.getBoundingClientRect(),d=e.clientTop||document.body.clientTop||0,p=e.clientLeft||document.body.clientLeft||0,f=window.pageYOffset||e.scrollTop||document.body.scrollTop,h=window.pageXOffset||e.scrollLeft||document.body.scrollLeft;M={top:u.top+f-d,left:u.left+h-p},j=!0,F.hold(o),t.prevent_default&&l(o);break;case"mousemove":case"touchmove":if(!j)return!1;y=o,C.move=i(o),F.transform(o)||F.drag(o);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!j||"transform"!=S&&o.touches&&o.touches.length>0)return!1;j=!1,b=o,"drag"==S?s("dragend",{originalEvent:o,direction:T,distance:x,angle:w}):"transform"==S?s("transformend",{originalEvent:o,position:C.center,scale:r(C.start,C.move),rotation:a(C.start,C.move)}):F.tap(v),N=S,s("release",{originalEvent:o,gesture:S}),c()}}function d(e,t){if(!t&&window.event&&window.event.toElement&&(t=window.event.toElement),e===t)return!0;if(t)for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}function p(e,t){var n={};if(!t)return e;for(var i in e)n[i]=i in t?t[i]:e[i];return n}function f(e){return"[object Function]"==Object.prototype.toString.call(e)}function h(e,t,n){t=t.split(" ");for(var i=0,o=t.length;o>i;i++)e.addEventListener?e.addEventListener(t[i],n,!1):document.attachEvent&&e.attachEvent("on"+t[i],n)}var m=this,g={prevent_default:!0,css_hacks:!0,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:0,transform:!0,scale_treshold:.01,rotation_treshold:5,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};t=p(g,t),function(){if(!t.css_hacks)return!1;for(var n=["webkit","moz","ms","o",""],i={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},o="",r=0;n.length>r;r++)for(var a in i)o=a,n[r]&&(o=n[r]+o.substring(0,1).toUpperCase()+o.substring(1)),e.style[o]=i[a]}();var v,y,b,x=0,w=0,T=0,C={},k=0,E=!1,S=null,N=null,A=null,D={x:0,y:0},L=null,$=null,M={},j=!1,H="ontouchstart"in window;this.getDirectionFromAngle=function(e){var t,n,i={down:e>=45&&135>e,left:e>=135||-135>=e,up:-45>e&&e>-135,right:e>=-45&&45>=e};for(n in i)if(i[n]){t=n;break}return t};var F={hold:function(e){t.hold&&(S="hold",clearTimeout($),$=setTimeout(function(){"hold"==S&&s("hold",{originalEvent:e,position:C.start})},t.hold_timeout))},drag:function(e){var n=C.move[0].x-C.start[0].x,i=C.move[0].y-C.start[0].y;if(x=Math.sqrt(n*n+i*i),t.drag&&x>t.drag_min_distance||"drag"==S){w=o(C.start[0],C.move[0]),T=m.getDirectionFromAngle(w);var r="up"==T||"down"==T;if((r&&!t.drag_vertical||!r&&!t.drag_horizontal)&&x>t.drag_min_distance)return;S="drag";var a={x:C.move[0].x-M.left,y:C.move[0].y-M.top},c={originalEvent:e,position:a,direction:T,distance:x,distanceX:n,distanceY:i,angle:w};E&&(s("dragstart",c),E=!1),s("drag",c),l(e)}},transform:function(e){if(t.transform){if(2!=n(e))return!1;var i=a(C.start,C.move),o=r(C.start,C.move);if("drag"!=S&&("transform"==S||Math.abs(1-o)>t.scale_treshold||Math.abs(i)>t.rotation_treshold)){S="transform",C.center={x:(C.move[0].x+C.move[1].x)/2-M.left,y:(C.move[0].y+C.move[1].y)/2-M.top};var c={originalEvent:e,position:C.center,scale:o,rotation:i};return E&&(s("transformstart",c),E=!1),s("transform",c),l(e),!0}}return!1},tap:function(e){var n=(new Date).getTime(),i=n-A;if(!t.hold||t.hold&&t.hold_timeout>i){var o=function(){if(D&&t.tap_double&&"tap"==N&&t.tap_max_interval>A-L){var e=Math.abs(D[0].x-C.start[0].x),n=Math.abs(D[0].y-C.start[0].y);return D&&C.start&&Math.max(e,n)<t.tap_double_distance}return!1}();if(o)S="double_tap",L=null,s("doubletap",{originalEvent:e,position:C.start}),l(e);else{var r=C.move?Math.abs(C.move[0].x-C.start[0].x):0,a=C.move?Math.abs(C.move[0].y-C.start[0].y):0;x=Math.max(r,a),t.tap_max_distance>x&&(S="tap",L=n,D=C.start,t.tap&&(s("tap",{originalEvent:e,position:C.start}),l(e)))}}}};H?h(e,"touchstart touchmove touchend touchcancel",u):(h(e,"mouseup mousedown mousemove",u),h(e,"mouseout",function(t){d(e,t.relatedTarget)||u(t)}))}