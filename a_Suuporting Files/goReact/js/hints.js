function Hint(e,t,n){this.s=e,this.e=t,this.es=n}function queueHint(e){hintQueue.push(e),tendHintQueue()}function doNextHint(){0==helpWindow.isOpen&&(displayHint(hintQueue[0].s,hintQueue[0].e,hintQueue[0].es),hintQueue.splice(0,1))}function tendHintQueue(){hintQueue.length>0&&setTimeout("doNextHint()",10)}function flushHintQueue(){hintQueue=[]}function checkHintStatus(){var e;for(e=0;hints.length>e;e++)if(globalTime-hints[hints.length-1].t>14&&0!=missingIngredient){highlightHint(missingIngredient);var t=scoreComplexity(missingIngredient),n=searchForName(missingIngredient);if(0==n){var i=[];i=splitByCase(missingIngredient),highlightHint(i[0]),n=findName(missingIngredient),missingIngredient=addSubscript(missingIngredient)}var o=checkDuplicate(missingIngredient);if(1==o)var r="Try adding some more "+n+" ("+missingIngredient+").";else if(t>1)var r="Try making some "+n+" ("+missingIngredient+").";else var r="Try adding some "+n+" ("+missingIngredient+").";var a=new Hint([r],missingIngredient);queueHint(a),missingIngredient=0}}function searchForName(e){var t,n=0;for(t=0;pTable.elements.length>t;t++)e==pTable.elements[t].symbol&&(n=pTable.elements[t].name);return n}function checkDuplicate(e){var t,n,i=!1;for(t=0;molecules.length>t;t++)for(n=0;molecules[t].mElements.length>n;n++)e==molecules[t].mElements[n].symbol&&(i=!0);return i}function displayHint(e,t,n){if("string"==typeof n){var i="",o=n;n=[];for(var r=0,a=o.length;a>r;r++){var s=o[r];if(s.match(/[A-Z]/))i&&n.push(i),i=s;else if(s.match(/[0-9]/)){for(var l=0,c=+s;c>l;l++)i&&n.push(i);i=""}else s.match(/[a-z]/)&&(i+=s)}i&&n.push(i)}if(n&&(t=n[0]),1==helpWindow.isOpen){var u=new Hint(e,t,n);return queueHint(u),void 0}var d=e;if(this.e=t,this.es=n,0!=t&&highlightHint(t),n)for(var p=1,f=n.length;f>p;p++)queueHighlightHint(n[p]);var h=new Message(d,globalTime);helpWindow.open(h.s),hints.push(h)}function highlightHint(e){highlightedElements.length&&highlightedElements.splice(0),queueHighlightHint(e)}function queueHighlightHint(e){for(var t=0;pTable.elements.length>t;t++)e==pTable.elements[t].symbol&&highlightedElements.push(pTable.elements[t])}var hintQueue=[];